%section#breadcrumbs
  %nav
    = link_to "Home", root_path
    >
    Bekijk de Mixes van anderen

%section#left
  %section#search_scenarios_box.shaded_gradient
    = link_to "Maak je eigen Energy Mix", new_scenario_path, :class => 'shell'
    %h3 Bekijk de Energy Mixes van anderen
    = form_tag scenarios_path, :method => :get, :remote => true do
      = text_field_tag :q, params[:q], :placeholder => 'Zoeken'
  .clear

  %section.scenarios
    #user_scenarios.selectable
      = render :partial => 'select_scenario_box', :collection => @scenarios, :as => :scenario
    #pagination
      = paginate @scenarios, :remote => true

%section#right
  %section#select.shaded_gradient
    %h3 Vergelijk verschillende mixen met elkaar
    = form_tag compare_scenarios_path do
      %section#selected_scenarios
      = link_to "Vergelijk", '#', :class => 'submit_form disabled'
  
  :ruby
    any_featured = @featured_scenarios.any?
    any_average  = @average_scenarios.any?
    active_tab = any_featured ? :featured : :averages
  - if any_featured || any_average
    %section.scenarios.shaded_gradient
      %nav.tabs
        - if any_featured
          = link_to 'Uitgelicht', '#featured_scenarios', :class => ['scenario_tab_picker', active_tab == :featured && 'active']
        - if any_average
          = link_to 'Gemiddelde', '#average_scenarios', :class => ['scenario_tab_picker', active_tab == :averages && 'active']
        .clear
      .tab{:class => active_tab == :featured || 'hidden'}
        #featured_scenarios.selectable
          = render :partial => 'select_scenario_box', :collection => @featured_scenarios, :as => :scenario
      .tab{:class => active_tab == :averages || 'hidden'}
        #average_scenarios.selectable
          = render :partial => 'select_scenario_box', :collection => @average_scenarios, :as => :scenario


- content_for :head do
  = javascript_include_tag 'vendor/jquery.busy.min'
  = javascript_include_tag 'scenario_picker'
